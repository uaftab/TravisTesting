sudo: required

language: cpp

os: linux

matrix:
    - gcc:
        - 4.8
        - 4.9
        - 5
    - clang:
        - 3.4
        - 3.5
        - 3.6
    - cmake:
        - 2.8.7
        - 2.9
        - 3.0
        - 3.1
        - 3.2
        - 3.3
        - 3.5

addons:
  apt:
    packages:
      - bisonc++
      - python-setuptools

before_install:
  - sudo cp /etc/apt/sources.list /etc/apt/sources.list.d/trusty.list
  - sudo sed -i 's/precise/trusty/g' /etc/apt/sources.list.d/trusty.list
  - sudo apt-get update -qq
  - sudo apt-get install -qq -y --force-yes flexc++ bisonc++ python-setuptools automake
  - echo $CXX

install:
    - mkdir build 
    - cd build 
    - cmake ../src
    - make
    - ./travistest
    - cd ..
script:
    - cd tests
    - ./run_test.sh
